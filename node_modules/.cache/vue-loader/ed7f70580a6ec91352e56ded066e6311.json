{"remainingRequest":"/home/lucamartinelli/Project/eagletrt/documentation/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lucamartinelli/Project/eagletrt/documentation/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lucamartinelli/Project/eagletrt/documentation/src/views/Home.vue","mtime":1585439814799},{"path":"/home/lucamartinelli/Project/eagletrt/documentation/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lucamartinelli/Project/eagletrt/documentation/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/lucamartinelli/Project/eagletrt/documentation/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lucamartinelli/Project/eagletrt/documentation/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGNvbWZvcnRhYmxlIH0gZnJvbSAnQC9jb21mb3J0YWJsZS5qcycKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnaG9tZScsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRvY3VtZW50czogW10sCiAgICAgIHRvdGFsRG9jdW1lbnRzOiAwLAogICAgICBsb2FkaW5nOiBmYWxzZQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RG9jdW1lbnRzKCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwoKICAgICAgY29uc3Qgb3B0aW9ucyA9IHsKICAgICAgICBlbWJlZEFzc2V0czogdHJ1ZSwKICAgICAgICBvZmZzZXQ6IHRoaXMuZG9jdW1lbnRzLmxlbmd0aAogICAgICB9OwoKICAgICAgY29tZm9ydGFibGUuZ2V0Q29sbGVjdGlvbignZG9jdW1lbnRhdGlvbicsIG9wdGlvbnMpCiAgICAgIC50aGVuKHJlc3VsdCA9PiB7CiAgICAgICAgdGhpcy5kb2N1bWVudHMucHVzaCguLi5yZXN1bHQuZGF0YSk7CiAgICAgICAgdGhpcy50b3RhbERvY3VtZW50cyA9IHJlc3VsdC5tZXRhLnRvdGFsOwogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KQogICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB0aHJvdyBlcnI7CiAgICAgIH0pCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXREb2N1bWVudHMoKTsKICB9Cn0K"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"home content-wrapper\">\n    <div v-for=\"document in documents\" :key=\"document.meta.id\">\n      <router-link :to=\"`/documentation/${document.fields.slug}`\">\n        <article>\n          <div class=\"image\">\n            <img :alt=\"document.fields.title\" :src=\"`${document.fields.image[0].fields.file.url}?w=840&h=400&fit=crop`\">\n          </div>\n          <h2>{{ document.fields.title }}</h2>\n        </article>\n      </router-link>\n    </div>\n    <button v-if=\"totalDocuments > documents.length\" @click=\"getDocuments\">\n      {{loading ? 'Loading...' : 'Load more documents'}}\n    </button>\n  </div>\n</template>\n\n<script>\n  import { comfortable } from '@/comfortable.js'\n\n  export default {\n    name: 'home',\n    data() {\n      return {\n        documents: [],\n        totalDocuments: 0,\n        loading: false\n      }\n    },\n    methods: {\n      getDocuments() {\n        this.loading = true;\n\n        const options = {\n          embedAssets: true,\n          offset: this.documents.length\n        };\n\n        comfortable.getCollection('documentation', options)\n        .then(result => {\n          this.documents.push(...result.data);\n          this.totalDocuments = result.meta.total;\n          this.loading = false;\n        })\n        .catch(err => {\n          this.loading = false;\n          throw err;\n        })\n      }\n    },\n    created() {\n      this.getDocuments();\n    }\n  }\n</script>\n\n<style>\n  article {\n    margin-bottom: 42px;\n    text-align: left;\n  }\n\n  article .image {\n    width: 100%;\n  }\n\n  article .image img {\n    max-width: 100%;\n    height: auto;\n  }\n\n  article h2 {\n    color: #2d2d33;\n  }\n\n  .home article {\n    border: 1px solid #ccc;\n  }\n\n  .home article h2 {\n    margin-left: 21px;\n  }\n</style>"]}]}